# TACACS+协议

> 原文:[https://www.geeksforgeeks.org/tacacs-protocol/](https://www.geeksforgeeks.org/tacacs-protocol/)

如果单个管理员想要访问 100 台路由器，并且设备的本地数据库用于用户名和密码(身份验证)，则管理员必须在不同的时间创建相同的用户帐户。此外，如果他想为设备保留不同的用户名和密码，那么他必须手动更改设备的身份验证。当然，这是一项繁忙的任务。

为了在一定程度上减轻这项任务，使用了思科访问控制服务器。ACS 提供了一个集中管理系统，其中保存了用户名和密码的数据库。此外，还可以配置授权(意味着用户被授权做什么)。但是为此，我们必须告诉路由器参考 ACS 来决定认证和授权。

ACS 服务器和客户端之间使用两种协议来实现这一目的:

1.  TACACS+
2.  [半径](https://www.geeksforgeeks.org/computer-network-radius/)

这里我们只讨论 TACACS+。

**TACACS+–**
TACACS+代表终端接入控制器接入控制服务器，是 AAA 框架中使用的安全协议，为想要接入网络的用户提供集中认证。

**功能–**TACACS+的一些功能包括:

1.  思科为 AAA 框架开发了协议，即它可以在思科设备和思科 ACS 服务器之间使用。
2.  它使用 TCP 作为传输协议。
3.  它使用 TCP 端口号 49。
4.  如果设备和 ACS 服务器使用的是 TACACS+，那么它们之间交换的所有 AAA 数据包都会被加密。
5.  它将 AAA 分为不同的元素，即身份验证、授权和计费是分开的。
6.  它提供了更大的粒度控制(比 RADIUS 更大)，因为可以指定授权用户使用的命令。
7.  它提供会计支持，但不如 RADIUS 广泛。

**工作–**
TACACS+的客户端称为网络访问设备(Nad)或网络访问服务器(NAS)。网络接入设备将联系 TACACS+服务器，通过 **CONTINUE** 消息获得用户名提示。然后，用户输入用户名，网络访问设备再次联系 TACACS+服务器以获得密码提示(继续消息)，向用户显示密码提示，用户输入密码，然后密码被发送到 TACACS+服务器。

服务器可以用以下回复消息之一进行响应:

*   如果输入的凭据有效，则 TACACS+服务器将会以 ACCEPT 消息进行响应。
*   如果输入的凭据无效，则 TACACS+服务器将会以拒绝消息进行响应。
*   如果 TACACS+服务器和 NAS 或 TACACS+服务器之间的链接工作不正常，则它会以错误消息进行响应。
*   如果需要 TACACS+授权，将再次联系 TACACS+服务器，并返回 ACCEPT 或 REJECT 授权响应。如果返回 ACCEPT 消息，它包含用于确定允许用户执行的服务的属性。

对于记帐，客户机将向 TACACS+服务器发送一个 REQUEST 消息，服务器用一个 REQUEST 消息作为响应，声明记录已收到。

**优势–**

1.  提供比 RADIUS 更大的粒度控制。TACACS+允许网络管理员定义用户可以运行哪些命令。
2.  所有的 AAA 数据包都是加密的，而不仅仅是密码(在 Radius 的情况下)。
3.  TACACS+使用 TCP 而不是 UDP。TCP 保证客户端和服务器之间的通信。

**劣势–**

1.  由于它是思科专有的，因此只能在思科设备之间使用。TACAS+是一个开放标准 RFC8907
2.  对会计的支持没有 RADIUS 广泛。