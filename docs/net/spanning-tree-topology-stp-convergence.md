# 生成树拓扑收敛

> 原文:[https://www . geesforgeks . org/生成树-拓扑-stp-convergence/](https://www.geeksforgeeks.org/spanning-tree-topology-stp-convergence/)

一旦[生成树拓扑(STP)](https://www.geeksforgeeks.org/introduction-of-spanning-tree-protocol-stp/) 建立，STP 继续工作，直到发生一些变化。网络工程师可以应用的手动更改是网桥标识和端口成本的配置。

还有其他变化，如增加交换机或现有交换机的端口故障。当由于各种端口/接口的状态(转发/阻塞)的重新配置而发生一些变化时，STP 的反应称为 STP 收敛。

**根据 IEEE 的港口成本:**

<center>

| 以太网速度 | IEEE 成本 |
| --- | --- |
| 10 Mbps | 2, 000, 000 |
| 100mbps | 200, 000 |
| 1 Gbps | 20, 000 |
| 10 Gbps | 2, 000 |
| 100 Gbps | Two hundred |
| 每秒 1 Tbps | Twenty |

**STP 稳态运行:**

*   创建一个 Hello BPDU，并从根交换机的所有工作接口发送，根开销为 0。
*   所有非根交换机通过添加它们的 BID 作为发送方的 BID 和根开销来接收 Hello BPDU。现在他们从指定的端口发送 Hello BPDU。
*   以上两个过程重复进行，直到发生一些变化。

**交换机对 STP 拓扑变化的反应:**
在我们继续讨论交换机如何反应之前，了解生成树协议使用的一些计时器非常重要。

**直通式定时器 ：**

<center>

| 计时器 | 缺省值 | 描述 |
| --- | --- | --- |
| 你好 | 2 秒 | 根交换机创建的两个连续 Hello BPDU 之间的时间。 |
| MaxAge(最大值) | 10 *你好时间 | 如果没有收到 Hello，交换机必须等待的最长时间，然后才能进行更改。 |
| 向前延迟 | 15 秒 | 交换机将端口状态从转发更改为阻塞所花费的时间，反之亦然。 |

</center>

开关的反应是:

*   当交换机在 Hello 时间内没有收到预期的 Hello 时，它会继续正常工作，直到 MaxAge 时间。
*   交换机等待最大年龄时间如果在最大年龄时间内收到 Hello BPDU，交换机认为这是网络中的一些延迟，并像以前一样继续。如果没有，则交换机开始改变其拓扑。
*   现在，不同端口的状态可能会根据 STP 采用的新拓扑而变化。端口可能会将其状态从转发更改为阻止，反之亦然。但是这种端口状态的改变过程不会立即发生，它会经历两个中间状态，即监听和学习状态。
*   状态从阻塞到转发以及中间监听和学习状态的变化受转发延迟时间的限制。

**生成树状态:**

<center>

| 状态 | 数据帧转发 | 学习接收帧的媒体访问控制地址 | 国家的性质 |
| --- | --- | --- | --- |
| 阻塞 | 不 | 不 | 稳定的 |
| 倾听 | 不 | 不 | 短暂的 |
| 学问 | 不 | 是 | 短暂的 |
| 促进 | 是 | 是 | 稳定的 |
| 有缺陷的 | 不 | 不 | 稳定的 |

</center>

</center>