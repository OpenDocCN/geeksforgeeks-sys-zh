# 有类与无类寻址

> 原文:[https://www . geesforgeks . org/classful-vs-无类寻址/](https://www.geeksforgeeks.org/classful-vs-classless-addressing/)

[**有类寻址**](https://www.geeksforgeeks.org/ip-addressing-introduction-and-classful-addressing/)**:**
1981 年推出，采用有类路由，IP v4 地址分为 5 类(A 到 E)。

```
Classes A-C: unicast addresses
Class D: multicast addresses
Class E: reserved for future use 
```

**A 类:**
在 A 类地址中，第一个八位字节的第一位总是‘0’。因此，A 类地址的范围从 0.0.0.0 到 127.255.255.255(二进制的 01111111 转换为十进制的 127)。前 8 位或第一个八位字节表示网络部分，其余 24 位或 3 个八位字节属于主机部分。它的子网掩码是 255.0.0.0。

```
Example: 10.1.1.1 
```

**例外─**

```
- 127.X.X.X is reserved for loopback
- 0.X.X.X is reserved for default network 
```

因此，A 类地址的实际范围是:1.0.0.0 到 126.255.255.255

**B 类** **:**
在 B 类地址中，第一个八位字节总是以“10”开头。因此，B 类地址的范围从 128.0.0.0 到 191.255.255.255。前 16 位或前两个八位字节表示网络部分，其余 16 位或两个八位字节属于主机部分。它的子网掩码是 255.255.0.0。

```
Example: 172.16.1.1 
```

**C 类:**
在 C 类地址中，第一个八位字节总是以“110”开头。因此，C 类地址的范围从 192.0.0.0 到 223.255.255.255。前 24 位或前三个八位字节表示网络部分，其余 8 位或剩余一个八位字节属于主机部分。它的子网掩码是 255.255.255.0。

```
Example: 192.168.1.1 
```

**D 类:**
D 类用于组播寻址，在 D 类地址中，第一个八位字节总是以‘1110’开头。因此，D 类地址的范围从 224.0.0.0 到 239.255.255.255。其子网掩码未定义。

```
Example: 239.2.2.2 
```

OSPF、RIP 等路由协议使用 D 类地址。

**E 类:**
E 类地址留作研究和未来使用。E 类地址的第一个八位字节以“1111”开头。因此，E 类地址的范围从 240.0.0.0 到 255.255.255.255。其子网掩码未定义。

**有类寻址的缺点:**

1.  掩码为 255.0.0.0 的 A 类可以支持 128 个网络，每个网络 16，777，216 个地址，总共 2，147，483，648 个地址。
2.  掩码为 255.255.0.0 的 B 类可以支持 16，384 个网络，每个网络 65，536 个地址，总共支持 1，073，741，824 个地址。
3.  掩码为 255.255.255.0 的 C 类可以支持 2，097，152 个网络，每个网络 256 个地址，总共 536，870，912 个地址。

但是如果有人需要 2000 个地址呢？
解决这种情况的一种方法是为该人提供 B 类网络。但这将导致这么多地址的浪费。
另一种可能的方法是提供多个 C 类网络，但这也会导致问题，因为要处理的网络太多了。

为了解决上述问题，引入了 CIDR。

[**无类域间路由(CIDR)**](https://www.geeksforgeeks.org/computer-network-classless-inter-domain-routing-cidr/) **:**
CIDR 或类域间路由于 1993 年推出，以取代有类寻址。它允许用户使用 VLSM 或可变长度子网掩码。

**CIDR 符号:**
在 CIDR，子网掩码用/X 表示。例如，子网 255.255.255.0 用/24 表示。要在 CIDR 使用子网掩码，我们必须首先将每个二进制八位数转换为各自的二进制值。例如，如果子网是 255.255.255.0。然后:

**第一个八位字节–**

```
255 has 8 binary 1's when converted to binary 
```

**第二字节–**

```
255 has 8 binary 1's when converted to binary 
```

**第三个八位字节–**

```
255 has 8 binary 1's when converted to binary 
```

**第四个八位字节–**

```
0 has 0 binary 1's when converted to binary 
```

因此，总共有 24 个二进制 1，因此子网掩码为/24。

在 CIDR 创建网络时，必须确保掩码是连续的，即子网掩码如 10111111。X.X.X 不可能存在。

借助 CIDR，我们可以创建可变长度子网掩码，从而减少 IP 地址的浪费。网络和主机部分之间的分割线不必位于八位字节边界。例如，在 CIDR，像 255.224.0.0 或 11111111 . 11100000 . 0000000 . 0000000000 这样的子网掩码可能存在。