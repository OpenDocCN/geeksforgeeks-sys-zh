# 热备用路由器协议(HSRP)和虚拟路由器冗余协议(VRRP)

> 原文:[https://www . geesforgeks . org/热备用-路由器-协议-hsrp-虚拟-路由器-冗余-协议-vrrp/](https://www.geeksforgeeks.org/hot-standby-router-protocol-hsrp-virtual-router-redundancy-protocol-vrrp/)

[热备用路由器协议(HSRP)](https://www.geeksforgeeks.org/computer-networks-hot-standby-router-protocol-hsrp/) 是一种思科专有协议，用于在网络中提供冗余。只有一台路由器是活动路由器，而其他路由器将处于备用状态，即当活动路由器出现故障时，备用路由器将负责转发流量。

虚拟路由器冗余协议(VRRP)是一种开放的标准协议，用于在网络中提供冗余。VRRP 是一种网络层协议。它采用了主备路由器的概念，即当主路由器发生故障时，其中一台备份路由器将承担主路由器的责任，即备份路由器将负责转发流量，直到主路由器再次出现。

**相似之处–**

*   **虚拟 IP 地址:**两种协议都使用虚拟 IP 地址的概念，即子网或网络中的一个 IP 地址被指定为该网络主机的默认网关。
*   **抢占:**抢占是一种状态，在这种状态下，选定的(在 HSRP 情况下是活动的，在 VRRP 情况下是主路由器)路由器在流量再次出现时，从其他(在 HSRP 情况下是备用的，在 VRRP 情况下是备用的)路由器收回转发流量的责任。这两个协议都有抢占的概念。
*   **目标跟踪:**目标跟踪是监控被跟踪目标的过程，如线路协议的状态。该过程定期轮询被跟踪的对象，如果发现任何变化，则增加备用路由器的优先级，因此现在这些路由器中的一个成为活动路由器或主路由器。
*   **优先级:**优先级最高的路由器将成为活动(在 HSRP)或主(在 VRRP)路由器。其中只有一台路由器是头端路由器(HSRP 的活动路由器，VRRP 的主路由器)，而其他路由器将作为备用路由器(HSRP 的备用路由器，VRRP 的备用路由器)。现在，看看 HSRP 和 VRRP 的一些不同之处。

<center>

| HSRP | VRRP |
| HSRP 协议是思科专有协议。 | VRRP 是一个开放的标准协议。 |
| HSRP 是一个应用层协议。 | VRRP 是一种网络层协议 |
| HSRP 版本 1 使用 UDP 端口号 1985 和多播地址 224.0.0.2，版本 2 使用 UDP 端口 1985 和 224.0.0.102 作为多播地址。 | VRRP 使用多播地址 224.0.0.18 和协议号 112 |
| 必须手动启用抢占。 | 默认情况下，VRRP 启用抢占。 |
| HSRP 的问候信息时间和死亡时间分别为 3 秒和 10 秒。 | 在 VRRP，没有 hello 计时器和 dead 计时器，而是有了 Master 广告间隔(默认为 1 秒)和 master down 间隔(默认为 3.069)的概念。 |
| HSRP 使用的媒体访问控制地址是 0000.00 07.ac0a
其中 0a(这里的组号假设为 10)表示十六进制的 HSRP 组号。 | VRRP 使用的 MAC 地址是 0000.5e00.01xx，这里 xx 代表 VRRP 组号。 |
| 版本 1 允许的组号范围是 0-255，版本 2 是 0-4095 | 允许的范围是 0-255 |

</center>