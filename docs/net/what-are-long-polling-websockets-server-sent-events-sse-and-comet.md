# 什么是长轮询、网络套接字、服务器发送事件(SSE)和 Comet？

> 原文:[https://www . geesforgeks . org/what-long-polling-web sockets-server-send-events-SSE-and-comet/](https://www.geeksforgeeks.org/what-are-long-polling-websockets-server-sent-events-sse-and-comet/)

客户端与服务器端实时交互的方式有多种，即长轮询、网络套接字、服务器发送事件(SSE)和 Comet。这些解释如下。

**1。长轮询:**
这是一种客户端向服务器请求信息而不期望立即响应的技术，或者基本上包括向服务器发出 HTTP 请求，然后保持连接打开以允许服务器稍后响应。使用长轮询，服务器允许来自浏览器的大约 6 个并行连接。

与其他方式相比，这种方式的负载平衡很容易。长轮询是最古老的方法，因此在所有 web 浏览器上都支持。尽管由于更新较少，它不提供重新连接处理。长轮询在服务器上更密集或更繁重，但在浏览器中被更广泛地接受。

**2。网络套接字:**
网络套接字是一种计算机通信协议，它使我们能够通过单个传输控制协议(TCP)连接实现全双工通信信道。网络套接字协议支持网络浏览器和网络服务器之间的低权重交互，提供服务器之间的实时数据传输。这是通过定义一种标准方式来实现的，即服务器无需首先被客户端请求就可以向客户端发送信息，然后允许消息在保持连接打开的情况下来回传递。这样，客户端和服务器之间就可以毫无问题地进行双向对话。

Websockets 主要被谷歌 chrome、opera、edge、firefox、safari 等浏览器接受。网络套接字在浏览器上很轻，它从浏览器提供多达 1024 个并行连接。它具有复杂的负载平衡和代理技术。它还支持长轮询中不存在的丢弃客户端检测，但它也不提供重新连接处理。

**3。服务器发送事件(SSE):**
这是一种支持浏览器的技术，它可以使用 HTTP 连接从任何服务器接收自动更新。该技术由 WHATWG(网络超文本应用技术工作组)提出，并于 2006 年由 opera 网络浏览器首次实现。这是一个标准，描述了一旦建立了初始客户端连接，服务器如何初始化与客户端的数据传输。他们向客户端发送消息更新或连续更新，以通过一个名为 EventSource 的 javascript API 增加跨浏览器流。

一些浏览器支持 SSE，如 Mozilla、Chrome 和 Safari。Internet Explorer 和 Edge 仍然不支持这种技术。它还支持最多 6 个来自浏览器的并行连接。它支持简单的负载平衡，还提供事件源支持的重新连接处理。

**4。Comet:**
它是一个 web 应用程序模型，在这个模型中，长期持有的 HTTPS 请求允许服务器将数据推送到客户端-服务器，即 web 浏览器，而 web 浏览器不需要明确请求任何数据更新。Comet 还有很多其他的名字，比如 Ajax Push、Reverse Ajax 等等。开发 Comet 背后的基本思想是发出一个单一的、常规的 HTTPS 请求，并依赖于来自服务器的永无止境的响应。

web 服务器接受新的传入请求，并使用当前数据开始新的响应，但服务器不会结束响应，因此浏览器保持连接打开并等待新数据，每当新数据到达时，服务器都会将其写入响应流。服务器在特定更新的末尾发送一个唯一的字符串。例如，“此消息已结束”。
Comet 通过提供双向通信，结束了逐页网页模型和轮询的限制。

实现 Comet 的具体方法分为两大类:流和长轮询。

*   **I . Streaming–**
    任何使用流式 Comet 的应用程序都会为所有 Comet 事件打开一个从客户端浏览器到服务器的持续连接。彗星流技术是-

    ```
    (a) Hidden iframe
    (b) XMLHttpRequest 
    ```

*   **二。长轮询–**
    实现长轮询的具体技术包括:

    ```
    (a) XMLHttpRequest long polling
    (b) Script tag long polling 
    ```