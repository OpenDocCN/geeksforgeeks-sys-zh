# 优先中断|(软件轮询和菊花链)

> 原文:[https://www . geesforgeks . org/priority-interrupts-SW-polling-daisy-chaining/](https://www.geeksforgeeks.org/priority-interrupts-sw-polling-daisy-chaining/)

在[输入/输出接口(中断和直接存储器存取模式)](https://www.geeksforgeeks.org/io-interface-interrupt-dma-mode/)中，我们讨论了中断启动输入/输出背后的概念。

总而言之，当输入/输出设备准备好进行输入/输出传输时，它们会向计算机发出中断请求信号。中央处理器接收到这个信号，暂停它正在执行的当前指令，然后向前移动以服务该传输请求。但是如果多个设备同时产生中断呢？在这种情况下，我们必须有一种方法来决定首先服务哪个中断。换句话说，我们必须在系统中断服务的所有设备中设置优先级。

定义设备之间的优先级，以便在同时请求的情况下知道首先服务哪一个的概念称为优先级中断系统。这可以通过软件或硬件方法来完成。

# 软件方法–轮询

在这种方法中，所有中断都通过分支到同一服务程序来服务。然后，该程序检查每个设备是否是产生中断的设备。检查的顺序由必须设置的优先级决定。首先检查优先级最高的设备，然后按优先级降序检查设备。如果检查到该设备正在产生中断，则调用另一个服务程序，专门为该特定设备工作。
结构看起来会是这样的-

```
if (device[0].flag)
    device[0].service();
else if (device[1].flag)
    device[1].service();
.
.
.
.
.
.
else
    //raise error

```

这种方法的主要缺点是速度很慢。为了克服这一点，我们可以使用硬件解决方案，其中之一是串联设备。这被称为菊花链方法。

# 硬件方法–菊花链

菊花链方法包括以串行方式连接所有可以请求中断的设备。该配置由设备的优先级决定。优先级最高的设备排在第一位，其次是优先级第二高的设备，依此类推。给定的图描述了这种布置。

![](img/3d469b04373678692f19da4f551dbe21.png)

**工作:**
有一条所有设备通用的中断请求线，进入中央处理器。

*   当没有中断挂起时，线路处于高状态。但是如果任何一个设备产生中断，它会将中断请求线置于低状态。
*   中央处理器通过线路确认该中断请求，然后响应该请求启用中断确认线路。
*   该信号在设备 1 的 PI(优先级输入)输入端接收。
*   如果设备没有请求中断，它会通过其 PO(优先级输出)输出将此信号传递给下一个设备。(PI = 1 & PO = 1)
*   However, if the device had requested the interrupt, (PI =1 & PO = 0)
    *   该器件消耗确认信号，并通过将 0 置于其 PO(优先级输出)输出来阻止其进一步使用。
    *   然后，设备继续将其中断向量地址(VAD)放入中央处理器的数据总线。
    *   该设备将其中断请求信号置于高状态，以指示其中断已被处理。

    **注意:** VAD 是服务该设备的服务例程的地址。

*   如果一个设备在其 PI 输入端得到 0，它将在 PO 输出端生成 0，以告知其他设备确认信号已被阻止。(PI = 0 & PO = 0)

因此，具有 PI = 1 和 PO = 0 的设备是请求中断的最高优先级设备。因此，通过菊花链安排，我们确保了最高优先级的中断首先得到服务，并建立了层次结构。设备离第一个设备越远，其优先级越低。

本文由**贾丁·古普塔**供稿。如果你喜欢 GeeksforGeeks 并想投稿，你也可以使用[contribute.geeksforgeeks.org](http://www.contribute.geeksforgeeks.org)写一篇文章或者把你的文章邮寄到 contribute@geeksforgeeks.org。看到你的文章出现在极客博客主页上，帮助其他极客。

如果你发现任何不正确的地方，或者你想分享更多关于上面讨论的话题的信息，请写评论。