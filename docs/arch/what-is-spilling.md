# 什么是溢出

> 原文:[https://www.geeksforgeeks.org/what-is-spilling/](https://www.geeksforgeeks.org/what-is-spilling/)

**简介:**
在计算机中，所有的指令和数据都存储在主存储器或主存储器中。在执行过程中，它们必须被传送到处理单元，也称为中央处理器，在那里根据指令执行操作，如果有任何结果，它将被发送回内存。但是在执行过程中，这些指令和数据存储在 CPU 内部的什么地方呢？答案是**注册。**

寄存器是一个硬件单元，充当计算机处理器可以快速访问的存储区域。它们主要存储一条指令的地址、指令本身、操作数，以及一个操作的结果，这些结果可以在以后加载到内存中。高级编程语言中使用的变量存储在寄存器中，或者更确切地说，它们在程序执行期间被分配给特定的寄存器。

在编程语言中，可能有许多变量在使用，这些变量需要存储在寄存器中以便更快地访问，从而使程序执行得更快。编译器的工作是决定如何给寄存器分配变量。不是所有的变量都分配给一个寄存器，而是只分配给正在使用的变量。

**没有溢出的问题:**
现在这里出现了两个问题–

1.  在计算机中，寄存器的数量是有限的，因为它们是硬件单元，一旦芯片被制造出来，就不可能增加或减少寄存器的数量。
2.  同一寄存器中不能同时分配两个或多个变量的空间。

理想处理器的特点是每个周期执行越来越多的指令。因此，需要更多的空间来存储变量并对其执行操作。如上所述，寄存器空间是有限的。这导致寄存器分配失败。因此，编译器的工作就是利用寄存器和内存空间。

如果没有足够的寄存器来保存变量。然后将一些变量移到主存储器，为需要寄存器的变量腾出空间。这被称为寄存器溢出。

**什么是溢出？**
从形式上来说，溢出是一种技术，其中一个变量从寄存器空间移出到主存储器(随机存取存储器)，为其他变量腾出空间，这些变量将在当前执行的程序中使用。

**为什么溢出？**
溢出是为了满足以下条件–

1.  **避免寄存器分配失败–**
    这种情况会发生，因为只有有限数量的寄存器来保存活动变量，因此它们会在寄存器和内存之间交换。
2.  **传入函数的参数–**
    参数是传递给函数的参数。当它们不能被传递到寄存器中时，它们被存储在存储单元中。
3.  **动态分配–**
    程序员可能需要添加名称，这些名称是在运行时生成的。由于寄存器是静态命名的，编译器依赖内存来动态生成名称。

第四个问题存在，在函数调用期间。被调用函数的主体访问整个寄存器集，因此会发生多次保存和恢复。为了克服开销，需要进行内存引用，这可以使用溢出来实现。

**溢出的优势–**
它没有什么优势，它们是–

1.  最大的优势是硬件性能的提升。
2.  访问时间比高速缓存短(对于小溢出)。

**举例–**
让我们借助一个例子来了解整个过程。考虑一个简单的表达式:

```
R = (A+B)*(C+D)
```

相应的一个地址指令如下

```
1\. LOAD A     // ACC = M[A]
2\. ADD B      // ACC = ACC + M[B]
3\. STORE T    // M[T] = ACC
4\. LOAD C     // ACC = M[C]
5\. ADD D      // ACC = ACC + M[D]
6\. MUL T      // ACC = ACC * M[T]
7\. STORE R    // M[R] = ACC
```

在本例中，在指令编号 3 处，存储在累加器中的值被移动到内存中并存储在那里，以便为新变量腾出空间。这是溢出的一个例子。