# 计算机组织|指令格式解题

> 原文:[https://www . geesforgeks . org/computer-organization-problem-design-instruction-format/](https://www.geeksforgeeks.org/computer-organization-problem-solving-instruction-format/)

先决条件–[基本计算机指令](https://www.geeksforgeeks.org/computer-organization-basic-computer-instructions/)、[指令格式](https://www.geeksforgeeks.org/computer-organization-instruction-formats-zero-one-two-three-address-instruction/)、
指令格式定义指令的不同组成部分。指令的主要组成部分是操作码(要执行哪个指令)和操作数(要执行哪个指令的数据)。以下是与指令格式相关的不同术语:

*   **指令集大小–**它表示处理器中定义的指令总数。

*   **操作码大小–**是操作码占用的位数，通过取指令集大小的对数来计算。

*   **操作数大小–**是操作数占用的位数。

*   **指令大小–**计算为操作码和操作数占用的位数之和。

在本文中，我们将根据 GATE 中要求的指令格式讨论不同类型的问题。不同类型的指令格式详见:[指令格式](https://www.geeksforgeeks.org/computer-organization-instruction-formats-zero-one-two-three-address-instruction/)

**类型 1:** 给定指令集大小和操作数大小及其计数，求指令的大小。
在这类问题中，你会被给出指令集的大小、操作数的数量以及它们的大小，你要找出指令的大小。

**Que-1。**考虑一个处理器，它有 64 个寄存器，指令集大小为 12。每个指令有五个不同的字段，即操作码、两个源寄存器标识符、一个目的寄存器标识符和一个 12 位立即值。每条指令必须以字节对齐的方式存储在内存中。如果一个程序有 100 条指令，程序文本消耗的内存量(以字节为单位)为 _ _ _ _ _ _ _ _ _ _ _ _ _ _。(GATE 2016)
(A)100
(B)200
(C)400
(D)500

**解:**可近似为:

*   该指令由操作码和操作数组成。给定大小为 12 的指令集，操作码需要 4 位(2^4 = 16)。

*   由于总共有 64 个寄存器，识别一个寄存器需要 6 位。

*   由于指令包含 3 个寄存器(2 个源+ 1 个指定)，寄存器标识符需要 3 * 6 = 18 位。

*   给定的立即值需要 12 位。

*   指令的总位数= 4 + 18 + 12 = 34 位

*   指令需要以字节对齐的方式存储。34 位后最近的字节边界在 40 位(5 字节)。

*   因此，对于 100 条指令，所需的内存是 5 * 100 = 500 字节，正确的选项是(D)。

**类型 2:** 给定指令大小、操作码大小和部分操作数的大小，求剩余操作数的大小和最大值。
在这类题型中，你会被给出指令的大小、操作码的大小、操作数的个数以及一些操作数的大小，你要找出剩余操作数的大小或者最大值。

**Que-2。**一个处理器有 40 条不同的指令和 24 个通用寄存器。32 位指令字有一个操作码、两个寄存器操作数和一个立即操作数。可用于立即操作数字段的位数是 _______。(GATE CS 2016)

**解:**可近似为:

*   由于处理器有 40 条指令，操作码的位数= 6 (2^6 = 64)

*   由于处理器有 24 个寄存器，一个寄存器的位数= 5 (2^5 = 32)

*   2 个寄存器占用的总位数，操作码= 6 + 5 + 5 =16。

*   由于给定的指令大小为 32 位，操作数剩余的位= 32-16 = 16 位。

**Que-3。**机器采用 32 位架构，1 字长指令。它有 64 个寄存器，每个寄存器都是 32 位长。它需要支持 45 条指令，除了两个寄存器操作数之外，还有一个立即操作数。假设立即操作数是无符号整数，立即操作数的最大值是 ______。(GATE CS 2014)

**解:**可近似为:

*   由于机器具有 32 位架构，因此，1 个字= 32 位=指令大小

*   由于处理器有 64 个寄存器，一个寄存器的位数= 6 (2^6 = 64)

*   由于处理器有 45 条指令，操作码的位数= 6 (2^6 = 64)

*   2 个寄存器占用的总位数，操作码= 6 + 6 + 6 =18。

*   由于给定的指令大小为 32 位，剩余的位留给立即操作数= 32-18 = 14 位。

*   使用 14 位的最大无符号值= 2^14-1 = 16383，这就是答案。

**类型 3:** 不同类别说明的说明格式
在这类问题中，会给你不同类别的说明。您必须找到给定类型的最大可能指令。

**Que-4。**一个处理器有 16 个整数寄存器(R0，R1，…，R15)和 64 个浮点寄存器(F0，F1，…，F63)。它使用 2 字节指令格式。有四类说明:类型 1、类型 2、类型 3 和类型 4。类型 1 类别由四个指令组成，每个指令有 3 个整数寄存器操作数(3R)。Type-2 类别由 8 条指令组成，每条指令有 2 个浮点寄存器操作数(2Fs)。类型 3 类别由十四条指令组成，每条指令有一个整数寄存器操作数和一个浮点寄存器操作数(1R+1F)。类型 4 类别由 N 个指令组成，每个指令都有一个浮点寄存器操作数(1F)。

N 的最大值为 ______。(GATE-CS-2018)

**解:**可近似为:

*   由于机器具有 2 字节= 16 位指令格式，因此，可能的编码= 2^16.

*   由于处理器有 16 个整数寄存器，一个整数寄存器的位数= 4 (2^4 = 16)

*   由于处理器有 64 个浮点寄存器，一个浮点寄存器的位数= 6 (2^6 = 64)。

*   对于具有 4 个指令的类型 1 类别，每个指令具有 3 个整数寄存器操作数(4*3 = 12 位)，将消耗 4 * 2^12 = 2^14 编码。

*   对于具有 8 个指令的类型 2 类别，每个指令具有 2 个浮点寄存器操作数(2*6 = 12 位)，将消耗 8 * 2^12 = 2^15 编码。

*   对于具有 14 个指令的类型 3 类别，每个指令具有 1 个整数寄存器和 1 个浮点寄存器操作数(4 + 6 = 10 位)，将消耗 14 * 2^10 = 14336 个编码。

*   对于 type-4 类别指令，左边的编码数= 2^16-2^14-2^15-14336 = 2048。

*   对于具有 n 个指令的类型 4 类别，每个指令具有 1 个浮点寄存器操作数(6 位)将消耗 N* 2^6 = 2048(从上一步计算)。因此，N = 32。