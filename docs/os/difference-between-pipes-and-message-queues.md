# 管道和消息队列的区别

> 原文:[https://www . geeksforgeeks . org/管道和消息队列之间的差异/](https://www.geeksforgeeks.org/difference-between-pipes-and-message-queues/)

**[管道](https://www.geeksforgeeks.org/pipe-system-call/) :**
Unix 系统使用管道，建立进程间通信。管道提供单向数据流。使用 pipe()函数创建管道。

**语法:**

```
#include int pipe(int fd);  
```

pipe()函数返回两个文件描述符，FD[0]和 fd[1]。fd[0]打开以读取，fd[1]打开以写入管道。数据从管道的一端流向另一端。管道函数成功时返回“0”，错误时返回-1。

**[消息队列](https://www.geeksforgeeks.org/ipc-using-message-queues/) :**
一个消息队列，允许一个或多个进程写入消息供其他进程读取。消息队列被实现为消息的链表，并存储在内核中。每个消息队列由一个消息队列标识符标识。内核跟踪系统中创建的所有消息队列。

**管道和消息队列的区别:**

<center>

| S.NO | 管道 | 消息队列 |
| 1. | 管道是 Unix IPC 的一种形式，它提供单向的数据流。 | 消息队列是一种存储消息链表的系统 VIPC 形式 |
| 2. | 使用 pipe()函数创建管道，返回两个文件描述符，一个用于读取，另一个用于写入。 | 使用 msgget()函数创建消息队列会返回一个消息队列标识符。 |
| 3. | 管道和先进先出是单向的，即数据只能单向流动。 | 消息队列是双向的，即数据可以双向流动。 |
| 4. | 使用管道和先进先出，数据必须先入先出。 | 使用消息队列，可以按照与消息类型相关联的值一致的任何顺序读取消息。 |
| 5. | 无法为邮件分配优先级。 | 通过将优先级与类型或类型范围相关联，可以为消息分配优先级。 |
| 6. | 对于管道和先进先出，必须有一些进程等待消息通过管道和先进先出写入，也就是说，读取器进程和写入器进程都必须存在。 | 使用消息队列，一个进程可以将消息写入队列，然后退出，这样消息就可以在以后被另一个进程读取。 |
| 7. | 当引用管道的最后一个进程终止时，管道将从系统中完全删除。 | 在进程终止时，消息队列及其内容会保留在系统中，直到调用 mcgregor magento 的某个进程通过执行 ipcrm(1)命令或重新启动系统来具体读取或删除它们。 |
| 8. | 可以写入先进先出管道的最大字节数是 4096 字节。 | 可以写入消息队列的最大消息大小为 8192 字节。 |
| 9. | 使用命名管道的一个主要优点是，它们提供了一种有用的方法，可以向运行消息处理程序的 OpenEdge 后台会话发送单行请求 | 性能更好。消息队列支持异步通信，这意味着生成和使用消息的端点与队列交互，而不是彼此交互。 |
| 10. | 多个用户可以通过同一个命名管道发送请求，每个请求在收到时都会从管道中删除。 | 提高可靠性。 |

</center>