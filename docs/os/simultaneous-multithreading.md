# 同时多线程

> 原文:[https://www.geeksforgeeks.org/simultaneous-multithreading/](https://www.geeksforgeeks.org/simultaneous-multithreading/)

**概述:**
这篇论文研究了同时多线程，这种方式允许许多不偏不倚的线程在一个周期内向超标量处理器的实际设备发送困难的命令。同时多线程将明显增加处理器的使用，而不是每次冗长的训练延迟，并且根据线程限制并行性。

**特征:**

*   这些研究提供了多种并发多线程的方式，并将它们与机会组进行了比较:一个巨大的超标量体系结构、一个细粒度的多线程处理器和单芯片，这是两种难度较高的多处理架构。
*   结果显示，每个(单线程)超标量和细粒度多线程体系结构在利用高难度超标量处理器的资产时都受到容量的限制。
*   同时多线程能够获得 4 个超标量实例的吞吐量，是细粒度多线程的两倍。
*   同时多线程对单芯片多处理器来说同样是一个有吸引力的机会；具有大量组的同时多线程处理器的性能优于具有可比执行资产的相应传统多处理器。
*   此外，本文还提出，从同时多线程中获得的吞吐量收益可以在不需要对传统的高难度超标量体系结构进行巨大调整的情况下实现，无论是在硬件系统还是规模上。

**目标:**
提供了一种同时多线程的架构，实现了如下 3 个目标。

1.  它最小化了传统超标量设计的架构影响。
2.  它对单独执行的单线程的整体性能影响最小。
3.  它实现了广泛的吞吐量利润，同时进行了几个线程的散步。

**同步多线程基础:**

*   我们的同步多线程结构实现了 5 的吞吐量。根据 cycle 的四个命令，这是在硬件资产相当的未修改超标量基础上的 2.5 倍开发。
*   这种加速是通过以前在不同体系结构中未被利用的多线程的额外好处来实现的:想要获取的能力和一个线程在每个周期中最大限度地正确使用处理器的难度，从而向处理器呈现“最佳”命令。
*   分析响应时间版本表明，在多程序环境中同时多线程的好处并不局限于成倍的吞吐量。
*   吞吐量的增加将导致可运行进程的排队时间普遍降低，这主要是因为响应时间的提高，在许多情况下，响应时间的提高明显超过了吞吐量的提高本身。
*   同时多线程(SMT)是一种将硬件多线程与超标量处理器技术相结合的处理器布局。同步多线程可以在每个周期使用多个线程来处理命令。
*   在积极的硬件多线程架构中，单个硬件上下文或线程在任何周期都是活跃的。SMT 有助于所有线程上下文同时竞争和分配处理器资源。与传统超标量处理器不同，传统超标量处理器受到每线程指令并行度损失的困扰，同时多线程利用多个线程来弥补低单线程指令并行度。
*   同时多线程使用多个线程，通过使用主线程留下的过程小工具，在相同的时钟周期内运行唯一的命令。

**基本处理器结构:**
对于同时多线程，可能需要对基本处理器结构进行如下修改。

*   在一个周期内从几个线程中获取命令的能力。
*   一个大的签入文档，用于保存来自几个线程的记录。

**整体性能提升:**
能够同时运行多线程的设备的整体性能提升如下。

*   更高的实践吞吐量
*   在每个多程序并行环境中，程序对于由工业数据库、互联网服务器和医疗程序组成的大量工作负载更快。

**为什么 SMT 是好的:**
SMT 实现在芯片长度和强度消耗方面可能非常有效，至少与完全复制处理器资源相比是如此。由于芯片长度的增长远低于 5%，英特尔声称，借助将 SMT 用于多线程工作负载，您可以获得 30%的整体性能提升。

**SMT 会提高性能吗:**
在这种情况下，SMT 会随着功耗的增加而提供巨大的整体性能。但平均来说，MT 的利润很小(+22%)，游戏的整体性能并不总是受到干扰，所以在 Zen 3 上保持启用是非常值得的。