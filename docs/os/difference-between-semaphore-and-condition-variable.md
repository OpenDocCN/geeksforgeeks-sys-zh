# 信号量和条件变量之间的差异

> 原文:[https://www . geesforgeks . org/信号量与条件变量之差/](https://www.geeksforgeeks.org/difference-between-semaphore-and-condition-variable/)

**1。** [**信号量**](https://www.geeksforgeeks.org/semaphores-in-process-synchronization/) **:**
信号量顾名思义，基本上是一个包含计数器、进程等待列表的对象，支持等待和信号两种不同的操作。它的类型包括计数信号量和二进制信号量。它只是一个同步工具，可以用来处理临界区问题。它为在编程环境中控制对公共资源的访问提供了简单的抽象。

**2。条件变量:**
条件变量，顾名思义，只是一个同步原语，允许线程等待，直到特定条件发生。它包括两个操作，即等待和信号。它只允许线程在感兴趣的事情发生时发出信号，并且主要用于想知道事情发生的时候。

**信号量和条件变量的区别:**

<figure class="table">

| 

旗语

 | 

条件变量

 |
| --- | --- |
| 它不允许线程等待。相反，每个线程继续运行，最后一个将信号量值设置为零的线程将进入睡眠状态。 | 它允许线程等待，直到特定情况发生。 |
| 它一般用于解决进程同步中一些关键环节的问题。 | 它通常与互斥体一起使用，表示从一个线程到另一个线程的状态变化。 |
| 其主要目的是控制多个进程对公共资源的访问，避免多任务操作系统等并发系统中的临界区问题。 | 它的主要目的是支持唤醒一个或所有等待线程的操作。 |
| 它可以在任何地方使用，除了监视器。 | 它只能用在显示器上。 |
| 在这种情况下，wait()并不总是阻塞它的调用者。 | 在这种情况下，wait()通常总是阻塞它的调用方。 |
| 它们很粘，因为它们有内存，即使没有人调用 sem_wait()，sem_post()也会增加信号量。 | 它们是非粘性的，因为如果没有人等待信号()，就不会保存信号()。 |
| 它只是一个计数器+互斥体+等待队列。 | 这只是一个等待队列。 |
| 它可以用作条件变量，因此更加轻量和灵活。 | 它不能用作信号量，因此不灵活。 |
| 在这种情况下，我们无法使用广播解锁在同一瞬间解锁所有等待的线程。 | 在这种情况下，我们可以使用广播解锁在同一瞬间解锁所有等待的线程。 |
| 如果队列中没有人等待，则信号不会丢失。 | 如果没有人排队等候，信号就会丢失。 |

</figure>