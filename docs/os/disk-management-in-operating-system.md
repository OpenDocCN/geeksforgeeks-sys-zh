# 操作系统中的磁盘管理

> 原文:[https://www . geesforgeks . org/操作系统中的磁盘管理/](https://www.geeksforgeeks.org/disk-management-in-operating-system/)

现代操作系统提供的服务和附加组件的范围不断扩大，四个基本的操作系统管理功能由所有操作系统实现。这些管理功能在下文中进行了简要描述，并给出了以下总体背景。四个主要的操作系统管理功能(每个功能在不同的地方有更详细的介绍)分别是:

*   [Process Management]
*   [memory management]
*   And file and disk management.
*   I/O system management

大多数计算机系统采用辅助存储设备(磁盘)。它为程序和数据(磁带、光学介质、闪存驱动器等)提供低成本的非易失性存储。).程序和它们使用的用户数据保存在单独的存储设备上，称为文件。操作系统负责根据需要为辅助存储介质上的文件分配空间。

不能保证文件会存储在物理磁盘驱动器上的连续位置，尤其是大型文件。这在很大程度上取决于可用空间的大小。当光盘已满时，新文件更有可能被记录在多个位置。然而，就用户而言，操作系统提供的示例文件隐藏了文件被分割成多个部分的事实。

操作系统需要跟踪磁盘上每个文件的每个部分的磁盘位置。在某些情况下，这意味着跟踪单个物理磁盘上的数十万个文件和文件片段。此外，操作系统必须能够定位每个文件，并在需要时对其执行读写操作。因此，操作系统负责配置文件系统，确保对辅助存储的读写操作的安全性和可靠性，并维护访问时间(向辅助存储写入数据或从辅助存储读取数据所需的时间)。

## 操作系统的磁盘管理包括:

*   磁盘格式
*   从磁盘引导
*   坏块恢复

### 低级格式或物理格式:

在存储数据之前将磁盘分成扇区，以便磁盘控制器可以读写每个扇区可以是:

标题保留信息、数据和纠错码(ECC)数据扇区，通常是 512 字节的数据，但是可选磁盘使用操作系统自己的数据结构来保存使用磁盘的文件。

它分两个阶段进行:

1.将光盘分成多个气缸组。每个都被视为一个逻辑磁盘。

2.逻辑格式或“创建文件系统”。操作系统将第一个文件系统的数据结构存储在磁盘上。包含可用空间和已分配空间。

为了提高效率，大多数文件系统将数据块分组到集群中。磁盘输入/输出以块为单位运行。文件输入/输出在集群中运行。

### 引导块:

*   当计算机开机或重启时，存储在初始引导只读存储器中的程序从磁盘中找到操作系统内核的位置，将内核加载到内存中，并运行操作系统。开始吧。
*   要更改引导代码，需要更改 ROM 和硬件芯片。只有一个小的引导加载程序存储在只读存储器中。
*   完整的引导代码存储在磁盘的“引导块”中。
*   带有引导分区的磁盘称为引导磁盘或系统磁盘。

### 坏块:

*   磁盘容易出错，因为移动部件的公差很小。
*   大多数磁盘甚至在出厂时就塞满了坏块，并且处理方式多种多样。
*   控制器维护一个坏块列表。
*   控制器可以指示用备用扇区之一在逻辑上替换每个坏扇区。这种方案被称为扇区备用或传输。
*   软错误会触发数据恢复过程。
*   但是，不可恢复的硬错误可能会导致数据丢失，需要手动干预。