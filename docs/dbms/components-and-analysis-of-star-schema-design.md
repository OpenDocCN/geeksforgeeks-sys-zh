# 星型架构设计的组成与分析

> 原文:[https://www . geesforgeks . org/组件和分析之星-架构-设计/](https://www.geeksforgeeks.org/components-and-analysis-of-star-schema-design/)

星型模式的主要组成部分是什么？
星型模式有四个主要组成部分。下面列出了这些内容:

1.  事实表
2.  维度表
3.  属性
4.  属性层次结构。

让我们逐一讨论它们:

**事实:**

1.  这些是数值。
2.  表示业务活动的绩效衡量标准。
3.  例子:生产率、费用、销售额、利润、价格、数量。
4.  事实也叫措施。它们存储在事实表中。

数值存储在事实表中，而文本存储在维度表中。数值给出了业务绩效的统计度量。销售数字比文字更容易理解，也很难用文字描述销售。因为事实是用来衡量企业业绩的，所以它们通常被称为衡量标准。

**什么是事实表？**

1.  事实表也称为细节表。
2.  事实表是星型模式的中点。
3.  事实表包含主键和事实或度量。

事实表由事实和关键字组成。这些是业务的主要细节。事实表显示了业务绩效的概要，即所谓的细节表。它总是位于星形模式的中心或中间。它被维度表包围。事实表的主键也是它的一部分。

**事实表的属性:**

1.  事实表通过插入操作数据库中的聚合数据定期更新。
2.  在查询执行期间计算的事实称为度量。
3.  每个事实表都有维度表。
4.  事实表支持数据汇总。
5.  包含至少一个事实或度量。
6.  主键–所有维度表的主键的并集。
7.  事实表总是在 BCNF，但不是维度表。
8.  事实表中的一行至少包含其维度表的一个事实和主键。
9.  包含不同类型的衡量标准:附加、半附加和非附加。
10.  少列多行——相对较长且形状狭窄的桌子。
11.  事实表中单个记录的详细程度称为事实表的粒度。
12.  大多数有用的事实是数字、连续值和加法。

销售数字是事实表的典型属性之一。因此，这个数字需要在一段时间后更新，比如每月或每季度。在星型模式中，维度表围绕着中心事实表。事实表总是至少有一个事实，否则它将不存在。它没有代理键，相反，所有维度表的主键的联合将构成事实表的主键。事实表总是 BCNF 的规范化形式。因为事实表有它的主键和很少的事实，它有较少的属性，但是有大量的行。如果销售数据每天更新，那么事实表的粒度就是一天。

**什么是维度表？**

1.  维度表包含一个主键，并且只包含决策过程中使用的那些属性。
2.  示例:产品维度、位置维度、时间维度。
3.  维度表通过外键关系的主键连接到事实表。
4.  维度表支持筛选和分组。
5.  维度通常是限定事实的描述性信息。

顾名思义，维度表包含业务实体的支持属性。每个维度表都由一个主键和必要的属性组成。客户表是维度表的一个例子。每个维度表都通过外键关系连接到事实表。

**维度表的属性:**

1.  维度表称为查找表或引用表。
2.  维度表未标准化。
3.  包含一个主键，它是事实表主键的一部分。
4.  维度不会随时间改变或缓慢改变。
5.  它们包含很少的行和很多列。
6.  大多数星型模式都包含时间维度。
7.  维度表不会相互连接，而是使用主键-FK 连接将每个维度表连接到事实表。
8.  主键通常是代理键。

这些被称为引用表，因为它们支持存储在事实表中的事实。业务实体的汇总显示在事实表中，维度表支持事实表。维度表没有规范化，因为这会导致维度表分解成多个表。这将在模式中引入更多数量的连接，星型查询将变得更加复杂，执行将花费更长的时间。维度表连接到事实表，但不相互连接，因为不需要这样做。代理键被添加到每个维度表中，目的是唯一地标识每个记录。

**有哪些属性？**

*   这些是维度表中的列。
*   客户维度表示例:客户姓名、年龄、性别、婚姻状况等。
*   这些主要是描述性的值。

属性是列名。对于客户表，准确描述客户的详细信息称为客户属性。顾客的姓名、性别、年龄和婚姻状况是顾客属性的几个例子。大多数情况下，这些都是描述性的值，如姓名和地址。

**什么是属性层次？**

1.  属性可以按层次结构排列。
2.  层级之间的关系为 N:1。
3.  确定一系列功能相关性。
4.  示例:产品->产品类型，产品类型->行业
5.  时间维度层次结构:日期->周->月->季度->年。
6.  位置层次结构:商店->城市->地区->州->国家
7.  属性层次结构用于分析不同聚合级别的数据，通常从较高的级别开始。
8.  并非维度表的所有列都用于属性层次结构，有些列仅用于维度描述。

当我们想要更细或更粗粒度的信息时，属性的层次结构是有用的。我们可以找到特定季度的总销售额。如果存在时间层次结构，那么我们可以找到在同一个季度的特定月份发生的销售。如果层级继续往下，我们可以找到当月某一周的总销售额。同样，我们也可以往上走。并非所有维度表都必须具有属性层次结构。

**各种数据聚合方式有哪些？**

*   属性层次定义了数据层次的方式。
*   汇总–获取层次结构中粒度较粗或级别较高的数据。
*   向下钻取–获取更细粒度的数据。

**什么是星查询？**

*   星型查询是事实表和多个维度表之间的连接。
*   这些都是非常复杂的查询。
*   执行需要很长时间。

在星型模式上执行的 SQL 查询称为星型查询。之所以使用星型查询，是因为我们在星型模式中使用了该查询。星型模式包含事实表和维度表之间的许多连接，因此星型查询是一个复杂的查询。由于星型查询中的许多连接关系，执行需要很长时间，即几个小时。