# 数据库管理系统中的饥饿

> 原文:[https://www.geeksforgeeks.org/starvation-in-dbms/](https://www.geeksforgeeks.org/starvation-in-dbms/)

饥饿或活锁是指事务必须无限期等待才能获得锁的情况。

### **饥饿原因–**

*   如果锁定项目的等待方案不公平。(优先队列)
*   受害者选择(同一交易被反复选择为受害者)
*   资源泄露。
*   通过拒绝服务攻击。

饥饿可以通过一个例子得到最好的解释

假设数据库中有 3 个事务，即 T1、T2 和 T3，试图获取数据项“1”的锁。现在，假设调度程序将锁授予 T1(可能是由于某种优先级)，另外两个事务正在等待锁。一旦 T1 的执行结束，另一个事务 T4 也过来请求锁定数据项 I。现在，这一次调度程序将锁定授予 T4 和 T2，T3 必须再次等待。这样，如果新事务继续请求锁，T2 和 T3 可能不得不无限期等待，这导致**饥饿**。

### **饥饿解决方案–**

1.  **增加优先级–**
    当一个事务需要无限期等待时，就会发生饥饿，在这种情况下，我们可以增加该特定事务的优先级，但这种解决方案的缺点是，可能会发生另一个事务需要等待更长时间，直到最高优先级的事务到来并继续进行。
2.  **受害者选择算法中的修改–**
    如果一个事务是重复选择的受害者，那么可以通过降低其相对于其他事务的优先级来修改该算法。
3.  **先到先得的方法–**
    可以采用公平调度的方法，即 FCFS，在这种方法中，事务可以按照请求锁的顺序获取某个项目的锁。
4.  **Wait-die and wind Wait 方案–**
    这些都是使用事务时间戳排序机制的方案。
    详细研究请参考:[等待模具和伤口等待方案](https://www.geeksforgeeks.org/deadlock-in-dbms/)