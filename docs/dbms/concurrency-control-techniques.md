# 并发控制技术

> 原文:[https://www . geesforgeks . org/concurrency-control-technologies/](https://www.geeksforgeeks.org/concurrency-control-techniques/)

[并发控制](https://www.geeksforgeeks.org/concurrency-control-in-dbms/)在数据库中提供，用于:

*   (I)强制隔离交易。
*   (ii)通过保持事务执行的一致性来保持数据库的一致性。
*   (iii)解决读写冲突。

各种并发控制技术有:

```
1. Two-phase locking Protocol
2. Time stamp ordering Protocol
3. Multi version concurrency control
4. Validation concurrency control 
```

这些在下面简要解释。

**1。[两相锁定协议](https://www.geeksforgeeks.org/two-phase-locking-protocol/) :**
锁定是一种确保:读取权限或写入数据项权限的操作。两阶段锁定是一个用于获得共享资源所有权而不产生死锁可能性的过程。

两阶段更新算法中发生的 3 个活动是:

```
(i). Lock Acquisition
(ii). Modification of Data
(iii). Release Lock 
```

如果不可能在不等待另一个进程使用锁完成的情况下获取所需的所有资源，则两阶段锁定通过释放已获取的所有资源来防止死锁在分布式系统中发生。这意味着没有一个进程处于持有一些共享资源，并等待另一个进程释放它所需要的共享资源的状态。这意味着死锁不会由于资源争用而发生。

两阶段锁定协议中的事务可以采取两个阶段之一:

*   **(i)成长阶段:**
    在这个阶段，事务只能获取锁，但不能释放任何锁。当一个事务获得它需要的所有锁时，这个点被称为锁点。
*   **(ii)收缩阶段:**
    在此阶段，事务只能释放锁，但不能获取锁。

**2。[时间戳排序协议](https://www.geeksforgeeks.org/timestamp-based-concurrency-control/) :**
时间戳是可以附加到任何交易或任何数据项的标签，它表示交易或数据项以任何方式被使用的特定时间。时间戳可以通过两种方式实现。一种是直接将时钟的当前值分配给事务或数据项。另一种是附加逻辑计数器的值，当需要新的时间戳时，该值保持递增。

数据项的时间戳可以有两种类型:

*   **(I)W-时间戳(X):**
    这意味着数据项 X 被写入的最晚时间。
*   **(ii)R-时间戳(X):**
    这是指读取数据项 X 的最晚时间。每次对数据项 x 执行成功的读/写操作时，都会更新这两个时间戳

**3。多版本并发控制:**
多版本方案保留数据项的旧版本以增加并发性。

**多版本 2 阶段锁定:**
每次成功写入都会创建所写入数据项的新版本。时间戳用于标记版本。当发出读(X)操作时，根据事务的时间戳选择适当的 X 版本。

**4。[验证并发控制](https://www.geeksforgeeks.org/validation-based-protocol-in-dbms/) :**
乐观的方法基于大多数数据库操作不冲突的假设。乐观的方法既不需要锁定也不需要时间戳技术。相反，事务在提交之前不受限制地执行。使用乐观的方法，每个事务都经过 2 或 3 个阶段，称为读取、验证和写入。

*   **(i)** 在读取阶段，事务读取数据库，执行所需的计算，并更新数据库值的私有副本。事务的所有更新操作都记录在临时更新文件中，其余事务不访问该文件。
*   **(ii)** 在验证阶段，对事务进行验证，以确保所做的更改不会影响数据库的完整性和一致性。如果验证测试是肯定的，事务进入写阶段。如果验证测试是否定的，事务将重新启动，更改将被丢弃。
*   **(iii)** 在写入阶段，更改将永久应用于数据库。